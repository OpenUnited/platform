<div class="relative z-10 modal-wrap__skills hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity modal-wrap__overlay"></div>
    <div class="fixed inset-0 z-10 overflow-y-auto">
        <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:px-0">
            <div class="relative transform rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full max-w-[568px] lg:max-w-[808px] px-5 lg:px-[30px] py-[30px] lg:py-[30px] sm:mx-5">
                <!-- Close button -->
                <div class="btn-skills__close relative -mt-0.5 sm:-mt-1.5 -mr-1 sm:-mr-2.5 ml-auto w-5 h-5 mb-2.5 cursor-pointer hover:opacity-80">
                    <svg class="w-full h-full" viewBox="0 0 24 24" focusable="false">
                        <path d="m12.71 12 8.15 8.15-.71.71L12 12.71l-8.15 8.15-.71-.71L11.29 12 3.15 3.85l.71-.71L12 11.29l8.15-8.15.71.71L12.71 12z"></path>
                    </svg>
                </div>

                <div class="mb-5">
                    <h2 class="text-2xl font-semibold leading-7 text-gray-900">Bounty Details</h2>
                </div>

                <form method="post" id="bounty-form" class="space-y-6">
                    {% csrf_token %}
                    
                    <!-- Form Fields -->
                    <div class="col-span-full">
                        <label for="title" class="block text-sm font-medium leading-6 text-gray-900">Title</label>
                        <input type="text" name="title" id="title" required 
                               class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
                        <div id="title-error" class="error-message text-red-500 text-sm hidden"></div>
                    </div>

                    <!-- Description Field -->
                    <div class="col-span-full">
                        <label for="description" class="block text-sm font-medium leading-6 text-gray-900">Description</label>
                        <textarea name="description" id="description" required 
                                  class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"></textarea>
                        <div id="description-error" class="error-message text-red-500 text-sm hidden"></div>
                    </div>

                    <!-- Points Field -->
                    <div class="col-span-full">
                        <label for="points" class="block text-sm font-medium leading-6 text-gray-900">Points</label>
                        <input type="number" name="points" id="points" required 
                               class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
                        <div id="points-error" class="error-message text-red-500 text-sm hidden"></div>
                    </div>

                    <!-- Skills Tree -->
                    <div class="col-span-full">
                        <label class="block text-sm font-medium leading-6 text-gray-900">Skills</label>
                        <div class="skill-tree mt-1 p-3 border rounded-md max-h-[300px] overflow-y-auto">
                            {% include "components/skill_tree.html" %}
                        </div>
                    </div>

                    <!-- Expertise Container -->
                    <div id="expertise-container" class="col-span-full">
                        <!-- Expertise options loaded dynamically -->
                    </div>

                    <input type="hidden" name="expertise_ids" id="expertise_ids">

                    <!-- Form Buttons -->
                    <div class="mt-6 flex items-center justify-end gap-x-6">
                        <button type="button" class="text-sm font-semibold leading-6 text-gray-900" onclick="closeModal()">Cancel</button>
                        <button type="submit" class="rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Add</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Remove inline script and add module import -->
<script type="module">
    import { showModal, closeModal } from "{{ static('js/flows/challenge_authoring/bounty_modal.js') }}";
    
    // Make functions available globally for button onclick handlers
    window.showModal = showModal;
    window.closeModal = closeModal;
</script>

<!-- Move styles to external CSS file -->
<link rel="stylesheet" href="{{ static('css/flows/challenge_authoring/bounty_modal.css') }}">
