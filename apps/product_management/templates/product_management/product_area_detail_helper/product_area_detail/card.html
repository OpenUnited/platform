
<div class="bg-white space-y-3 p-2 rounded-lg shadow border-gray-2 border border-solid border-gray grid grid-cols-3 md:grid-cols-3 gap-4">
    <div class="col-span-full">
        <a class="text-indigo-500"
            href="{{ url('product_area_detail', args=(product_slug, child.id,)) }}">
            {{ child.name }}
        </a>

        <div class="space-y-2.5 text-sm text-black/[0.85]">
            <p class="mt-1 text-gray-500" id="id_description_{{index}}">{{ child.description }}</p>
        </div>

        <button id="read_more_btn_{{index}}" onclick="readMoreFunction(event, {{index}})" class="text-indigo-500 hover:text-indigo-700 focus:outline-none mt-2">
            Read More
        </button>
    </div>

</div>

<script>
    var textElement = document.getElementById("id_description_{{index}}");
    var fullText = textElement.textContent;
    var words = fullText.split(" ");
    var visibleWords = 10;
    var initialText = words.slice(0, visibleWords).join(" ") + "...";
    var remainingText = ""

    if (words.length > visibleWords) {
        remainingText = words.slice(visibleWords).join(" ");
    }
    textElement.innerHTML = initialText + '<span class="hidden" id="more_text_{{index}}">' + remainingText + '</span>';

    function readMoreFunction(event, index){
        var textElementNew = document.getElementById(`id_description_${index}`);
        var readMoreBtn = document.getElementById(`read_more_btn_${index}`);
        console.log(index)
        var moreText = document.getElementById(`more_text_${index}`);
        if (moreText.classList.contains("hidden")) {
            moreText.classList.remove("hidden");
            readMoreBtn.textContent = "Read Less";
        } else {
            moreText.classList.add("hidden");
            var remainingTextNew = words.slice(visibleWords).join(" ");
            var initialTextNew = words.slice(0, visibleWords).join(" ") + "...";
            textElementNew.innerHTML =  initialTextNew + `<span class="hidden" id="more_text_${index}">` + remainingTextNew + '</span>';
            readMoreBtn.textContent = "Read More";
        }
    }
</script>
